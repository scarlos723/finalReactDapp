{"ast":null,"code":"var _jsxFileName = \"/Users/scarlos/Documents/Solidity/finalReactDapp/client/src/App.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport MejorpostorContract from \"./contracts/Mejorpostor.json\";\nimport getWeb3 from \"./getWeb3\";\nimport './styles/styles.css'; //const  ABI =[\n//   {\n//     \"inputs\": [],\n//     \"stateMutability\": \"nonpayable\",\n//     \"type\": \"constructor\"\n//   },\n//   {\n//     \"anonymous\": false,\n//     \"inputs\": [\n//       {\n//         \"indexed\": true,\n//         \"internalType\": \"address\",\n//         \"name\": \"owner\",\n//         \"type\": \"address\"\n//       },\n//       {\n//         \"indexed\": true,\n//         \"internalType\": \"address\",\n//         \"name\": \"spender\",\n//         \"type\": \"address\"\n//       },\n//       {\n//         \"indexed\": false,\n//         \"internalType\": \"uint256\",\n//         \"name\": \"value\",\n//         \"type\": \"uint256\"\n//       }\n//     ],\n//     \"name\": \"Approval\",\n//     \"type\": \"event\"\n//   },\n//   {\n//     \"anonymous\": false,\n//     \"inputs\": [\n//       {\n//         \"indexed\": true,\n//         \"internalType\": \"address\",\n//         \"name\": \"from\",\n//         \"type\": \"address\"\n//       },\n//       {\n//         \"indexed\": true,\n//         \"internalType\": \"address\",\n//         \"name\": \"to\",\n//         \"type\": \"address\"\n//       },\n//       {\n//         \"indexed\": false,\n//         \"internalType\": \"uint256\",\n//         \"name\": \"value\",\n//         \"type\": \"uint256\"\n//       }\n//     ],\n//     \"name\": \"Transfer\",\n//     \"type\": \"event\"\n//   },\n//   {\n//     \"inputs\": [\n//       {\n//         \"internalType\": \"address\",\n//         \"name\": \"owner\",\n//         \"type\": \"address\"\n//       },\n//       {\n//         \"internalType\": \"address\",\n//         \"name\": \"spender\",\n//         \"type\": \"address\"\n//       }\n//     ],\n//     \"name\": \"allowance\",\n//     \"outputs\": [\n//       {\n//         \"internalType\": \"uint256\",\n//         \"name\": \"\",\n//         \"type\": \"uint256\"\n//       }\n//     ],\n//     \"stateMutability\": \"view\",\n//     \"type\": \"function\",\n//     \"constant\": true\n//   },\n//   {\n//     \"inputs\": [\n//       {\n//         \"internalType\": \"address\",\n//         \"name\": \"spender\",\n//         \"type\": \"address\"\n//       },\n//       {\n//         \"internalType\": \"uint256\",\n//         \"name\": \"amount\",\n//         \"type\": \"uint256\"\n//       }\n//     ],\n//     \"name\": \"approve\",\n//     \"outputs\": [\n//       {\n//         \"internalType\": \"bool\",\n//         \"name\": \"\",\n//         \"type\": \"bool\"\n//       }\n//     ],\n//     \"stateMutability\": \"nonpayable\",\n//     \"type\": \"function\"\n//   },\n//   {\n//     \"inputs\": [\n//       {\n//         \"internalType\": \"address\",\n//         \"name\": \"account\",\n//         \"type\": \"address\"\n//       }\n//     ],\n//     \"name\": \"balanceOf\",\n//     \"outputs\": [\n//       {\n//         \"internalType\": \"uint256\",\n//         \"name\": \"\",\n//         \"type\": \"uint256\"\n//       }\n//     ],\n//     \"stateMutability\": \"view\",\n//     \"type\": \"function\",\n//     \"constant\": true\n//   },\n//   {\n//     \"inputs\": [],\n//     \"name\": \"currentOwner\",\n//     \"outputs\": [\n//       {\n//         \"internalType\": \"address\",\n//         \"name\": \"\",\n//         \"type\": \"address\"\n//       }\n//     ],\n//     \"stateMutability\": \"view\",\n//     \"type\": \"function\",\n//     \"constant\": true\n//   },\n//   {\n//     \"inputs\": [],\n//     \"name\": \"decimals\",\n//     \"outputs\": [\n//       {\n//         \"internalType\": \"uint8\",\n//         \"name\": \"\",\n//         \"type\": \"uint8\"\n//       }\n//     ],\n//     \"stateMutability\": \"view\",\n//     \"type\": \"function\",\n//     \"constant\": true\n//   },\n//   {\n//     \"inputs\": [\n//       {\n//         \"internalType\": \"address\",\n//         \"name\": \"spender\",\n//         \"type\": \"address\"\n//       },\n//       {\n//         \"internalType\": \"uint256\",\n//         \"name\": \"subtractedValue\",\n//         \"type\": \"uint256\"\n//       }\n//     ],\n//     \"name\": \"decreaseAllowance\",\n//     \"outputs\": [\n//       {\n//         \"internalType\": \"bool\",\n//         \"name\": \"\",\n//         \"type\": \"bool\"\n//       }\n//     ],\n//     \"stateMutability\": \"nonpayable\",\n//     \"type\": \"function\"\n//   },\n//   {\n//     \"inputs\": [\n//       {\n//         \"internalType\": \"address\",\n//         \"name\": \"spender\",\n//         \"type\": \"address\"\n//       },\n//       {\n//         \"internalType\": \"uint256\",\n//         \"name\": \"addedValue\",\n//         \"type\": \"uint256\"\n//       }\n//     ],\n//     \"name\": \"increaseAllowance\",\n//     \"outputs\": [\n//       {\n//         \"internalType\": \"bool\",\n//         \"name\": \"\",\n//         \"type\": \"bool\"\n//       }\n//     ],\n//     \"stateMutability\": \"nonpayable\",\n//     \"type\": \"function\"\n//   },\n//   {\n//     \"inputs\": [],\n//     \"name\": \"name\",\n//     \"outputs\": [\n//       {\n//         \"internalType\": \"string\",\n//         \"name\": \"\",\n//         \"type\": \"string\"\n//       }\n//     ],\n//     \"stateMutability\": \"view\",\n//     \"type\": \"function\",\n//     \"constant\": true\n//   },\n//   {\n//     \"inputs\": [],\n//     \"name\": \"previousOwner\",\n//     \"outputs\": [\n//       {\n//         \"internalType\": \"address\",\n//         \"name\": \"\",\n//         \"type\": \"address\"\n//       }\n//     ],\n//     \"stateMutability\": \"view\",\n//     \"type\": \"function\",\n//     \"constant\": true\n//   },\n//   {\n//     \"inputs\": [],\n//     \"name\": \"symbol\",\n//     \"outputs\": [\n//       {\n//         \"internalType\": \"string\",\n//         \"name\": \"\",\n//         \"type\": \"string\"\n//       }\n//     ],\n//     \"stateMutability\": \"view\",\n//     \"type\": \"function\",\n//     \"constant\": true\n//   },\n//   {\n//     \"inputs\": [],\n//     \"name\": \"totalSupply\",\n//     \"outputs\": [\n//       {\n//         \"internalType\": \"uint256\",\n//         \"name\": \"\",\n//         \"type\": \"uint256\"\n//       }\n//     ],\n//     \"stateMutability\": \"view\",\n//     \"type\": \"function\",\n//     \"constant\": true\n//   },\n//   {\n//     \"inputs\": [\n//       {\n//         \"internalType\": \"address\",\n//         \"name\": \"to\",\n//         \"type\": \"address\"\n//       },\n//       {\n//         \"internalType\": \"uint256\",\n//         \"name\": \"amount\",\n//         \"type\": \"uint256\"\n//       }\n//     ],\n//     \"name\": \"transfer\",\n//     \"outputs\": [\n//       {\n//         \"internalType\": \"bool\",\n//         \"name\": \"\",\n//         \"type\": \"bool\"\n//       }\n//     ],\n//     \"stateMutability\": \"nonpayable\",\n//     \"type\": \"function\"\n//   },\n//   {\n//     \"inputs\": [\n//       {\n//         \"internalType\": \"address\",\n//         \"name\": \"from\",\n//         \"type\": \"address\"\n//       },\n//       {\n//         \"internalType\": \"address\",\n//         \"name\": \"to\",\n//         \"type\": \"address\"\n//       },\n//       {\n//         \"internalType\": \"uint256\",\n//         \"name\": \"amount\",\n//         \"type\": \"uint256\"\n//       }\n//     ],\n//     \"name\": \"transferFrom\",\n//     \"outputs\": [\n//       {\n//         \"internalType\": \"bool\",\n//         \"name\": \"\",\n//         \"type\": \"bool\"\n//       }\n//     ],\n//     \"stateMutability\": \"nonpayable\",\n//     \"type\": \"function\"\n//   },\n//   {\n//     \"inputs\": [],\n//     \"name\": \"sendMoney\",\n//     \"outputs\": [],\n//     \"stateMutability\": \"payable\",\n//     \"type\": \"function\",\n//     \"payable\": true\n//   },\n//   {\n//     \"inputs\": [],\n//     \"name\": \"getBalanceContract\",\n//     \"outputs\": [\n//       {\n//         \"internalType\": \"uint256\",\n//         \"name\": \"\",\n//         \"type\": \"uint256\"\n//       }\n//     ],\n//     \"stateMutability\": \"view\",\n//     \"type\": \"function\",\n//     \"constant\": true\n//   },\n//   {\n//     \"inputs\": [],\n//     \"name\": \"getBalance\",\n//     \"outputs\": [\n//       {\n//         \"internalType\": \"uint256\",\n//         \"name\": \"\",\n//         \"type\": \"uint256\"\n//       }\n//     ],\n//     \"stateMutability\": \"view\",\n//     \"type\": \"function\",\n//     \"constant\": true\n//   },\n//   {\n//     \"inputs\": [],\n//     \"name\": \"postulate\",\n//     \"outputs\": [],\n//     \"stateMutability\": \"payable\",\n//     \"type\": \"function\",\n//     \"payable\": true\n//   }\n// ]\n\nconst App = () => {\n  const [values, setValues] = useState({\n    balance: 0,\n    web3: null,\n    accounts: null,\n    contract: null\n  });\n  const [infoOwners, setInfoOwners] = useState({\n    currentOwner: '',\n    previousOwner: ''\n  });\n  const [tokenvalue, setTokenValue] = useState([{\n    amount: 0,\n    symbol: '',\n    name: ''\n  }]);\n  const [showPostulate, setShowPostulate] = useState(false);\n  const [showResultTokens, setShowResultTokens] = useState(false);\n  const [valueWeis, setValueWeis] = useState(0);\n\n  async function getInstance() {\n    console.log(\"get instance\");\n\n    try {\n      // Get network provider and web3 instance.\n      const web3 = await getWeb3(); // Use web3 to get the user's accounts.\n\n      const accounts = await web3.eth.getAccounts(); //console.log(accounts)\n      // Get the contract instance.\n\n      const networkId = await web3.eth.net.getId();\n      console.log(`network id: ${networkId}`);\n      const deployedNetwork = MejorpostorContract.networks[networkId];\n      const instance = new web3.eth.Contract(MejorpostorContract.abi, deployedNetwork && deployedNetwork.address);\n      console.log('instance');\n      console.log(instance); // const instance = new web3.eth.Contract(\n      //   ABI,\n      //   '0x3D0Cb53AF13CE4C420e04FB3c4636AD704b51477'\n      // );\n      // Set web3, accounts, and contract to the state, and then proceed with an\n      // example of interacting with the contract's methods.\n\n      setValues({ ...values,\n        web3: web3,\n        accounts: accounts,\n        contract: instance\n      });\n    } catch (error) {\n      // Catch any errors for any of the above operations.\n      alert(`Failed to load web3, accounts, or contract. Please login in your wallet or check console for details.`);\n      console.error(error);\n    }\n  }\n\n  async function getBalanceF() {\n    try {\n      console.log('exec get balance'); // console.log(values.contract)\n\n      const response = await values.contract.methods.getBalance().call();\n      const currentOwner = await values.contract.methods.currentOwner().call();\n      const previousOwner = await values.contract.methods.previousOwner().call(); // console.log(`response: ${response}`)\n\n      setValues({ ...values,\n        balance: response\n      });\n      setInfoOwners({\n        currentOwner: currentOwner,\n        previousOwner: previousOwner\n      });\n      setShowPostulate(true);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async function getBalanceTokensF() {\n    try {\n      console.log('exec get balance Tokens');\n      const amount = await values.contract.methods.balanceOf(values.accounts[0]).call();\n      const name = await values.contract.methods.name().call();\n      const symbol = await values.contract.methods.symbol().call();\n      setTokenValue({\n        amount: amount,\n        symbol: symbol,\n        name: name\n      });\n      setShowResultTokens(true);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async function postulateF(e) {\n    try {\n      e.preventDefault();\n      console.log(`sending weis: ${valueWeis}`); // console.log('exec get balance')\n\n      if (valueWeis > values.balance) {\n        const response = await values.contract.methods.postulate().send({\n          from: values.accounts[0],\n          value: valueWeis\n        });\n        console.log(`response:`);\n        console.log(response);\n      } else {\n        alert(`Estas intentando postularte con ${valueWeis}Weis. El valor debe ser mayor a ${values.balance} Weis`);\n      }\n    } catch (error) {\n      console.log(error);\n    } //getBalanceF()\n    //setValues({ ...values, balance: response})\n\n  }\n\n  function handlerChange(e) {\n    e.preventDefault();\n    setValueWeis(e.target.value);\n  }\n\n  useEffect(() => {\n    getInstance();\n  }, []); //useEffect(()=>setShowPostulate(true), values.balance)\n\n  const Interface = () => {\n    var _values$accounts;\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 480,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 481,\n        columnNumber: 9\n      }\n    }, \"Dapp El Mejor P ostor\"), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"first-grid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"info-account\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 15\n      }\n    }, \"Your Address:\"), /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 15\n      }\n    }, \"  \", (_values$accounts = values.accounts) !== null && _values$accounts !== void 0 ? _values$accounts : values.accounts)), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn-def\",\n      onClick: () => getBalanceF(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 488,\n        columnNumber: 15\n      }\n    }, \"Consultar Balance Actual\"), values.balance > 0 && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 19\n      }\n    }, \"Balance Actual : \", values.balance, \" Weis\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 19\n      }\n    }, \"Mayor postor : \", infoOwners.currentOwner)))), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"first-grid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 498,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 501,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 13\n      }\n    }, \"Tokens:\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn-def\",\n      onClick: () => getBalanceTokensF(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 13\n      }\n    }, \"Consultar Tokens\"), showResultTokens && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 505,\n        columnNumber: 15\n      }\n    }, tokenvalue.amount > 0 ? /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 17\n      }\n    }, \"En \", /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 23\n      }\n    }, \" \", tokenvalue.name, \"'s \"), \" , tienes: \", /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 72\n      }\n    }, \" \", tokenvalue.amount, \" \", tokenvalue.symbol, \" \")) : /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 17\n      }\n    }, \"No tienes tokens\"))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 13\n      }\n    }, \"Postularte:\"), showPostulate ? /*#__PURE__*/React.createElement(\"form\", {\n      action: \"\",\n      onSubmit: e => postulateF(e),\n      onChange: e => handlerChange(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"inputWeis\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 19\n      }\n    }, \" Ingresa un valor en Weis para postularte. Recuerda \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 98\n      }\n    }), \" que debe ser mayor a \", values.balance, \" Weis \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      id: \"inputWeis\",\n      min: 0,\n      value: valueWeis,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 524,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn-def\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 17\n      }\n    }, \"Postular\")) : /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 15\n      }\n    }, \"Consulta el balance actual para postularte\"))));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, values.contract === null ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 541,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 9\n    }\n  }, \"Cargando contrato...\"), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"loading-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 543,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 544,\n      columnNumber: 9\n    }\n  }, \"Recuerda que tu Wallet debe estar conectada a \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 544,\n      columnNumber: 58\n    }\n  }, \" Rinkeby Test Network \"), \" \")) : /*#__PURE__*/React.createElement(Interface, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 547,\n      columnNumber: 11\n    }\n  }));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/scarlos/Documents/Solidity/finalReactDapp/client/src/App.jsx"],"names":["React","useEffect","useState","MejorpostorContract","getWeb3","App","values","setValues","balance","web3","accounts","contract","infoOwners","setInfoOwners","currentOwner","previousOwner","tokenvalue","setTokenValue","amount","symbol","name","showPostulate","setShowPostulate","showResultTokens","setShowResultTokens","valueWeis","setValueWeis","getInstance","console","log","eth","getAccounts","networkId","net","getId","deployedNetwork","networks","instance","Contract","abi","address","error","alert","getBalanceF","response","methods","getBalance","call","getBalanceTokensF","balanceOf","postulateF","e","preventDefault","postulate","send","from","value","handlerChange","target","Interface"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,mBAAP,MAAgC,8BAAhC;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAO,qBAAP,C,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMC,GAAG,GAAG,MAAM;AACd,QAAM,CAACC,MAAD,EAASC,SAAT,IAAqBL,QAAQ,CACjC;AACEM,IAAAA,OAAO,EAAC,CADV;AAEEC,IAAAA,IAAI,EAAE,IAFR;AAGEC,IAAAA,QAAQ,EAAE,IAHZ;AAIEC,IAAAA,QAAQ,EAAE;AAJZ,GADiC,CAAnC;AAQA,QAAK,CAACC,UAAD,EAAaC,aAAb,IAA8BX,QAAQ,CAAC;AAC1CY,IAAAA,YAAY,EAAC,EAD6B;AAE1CC,IAAAA,aAAa,EAAC;AAF4B,GAAD,CAA3C;AAIA,QAAK,CAACC,UAAD,EAAaC,aAAb,IAA8Bf,QAAQ,CAAC,CAAC;AAC3CgB,IAAAA,MAAM,EAAC,CADoC;AAE3CC,IAAAA,MAAM,EAAC,EAFoC;AAG3CC,IAAAA,IAAI,EAAC;AAHsC,GAAD,CAAD,CAA3C;AAKA,QAAK,CAACC,aAAD,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","sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport MejorpostorContract from \"./contracts/Mejorpostor.json\";\nimport getWeb3 from \"./getWeb3\";\nimport './styles/styles.css'\n//const  ABI =[\n//   {\n//     \"inputs\": [],\n//     \"stateMutability\": \"nonpayable\",\n//     \"type\": \"constructor\"\n//   },\n//   {\n//     \"anonymous\": false,\n//     \"inputs\": [\n//       {\n//         \"indexed\": true,\n//         \"internalType\": \"address\",\n//         \"name\": \"owner\",\n//         \"type\": \"address\"\n//       },\n//       {\n//         \"indexed\": true,\n//         \"internalType\": \"address\",\n//         \"name\": \"spender\",\n//         \"type\": \"address\"\n//       },\n//       {\n//         \"indexed\": false,\n//         \"internalType\": \"uint256\",\n//         \"name\": \"value\",\n//         \"type\": \"uint256\"\n//       }\n//     ],\n//     \"name\": \"Approval\",\n//     \"type\": \"event\"\n//   },\n//   {\n//     \"anonymous\": false,\n//     \"inputs\": [\n//       {\n//         \"indexed\": true,\n//         \"internalType\": \"address\",\n//         \"name\": \"from\",\n//         \"type\": \"address\"\n//       },\n//       {\n//         \"indexed\": true,\n//         \"internalType\": \"address\",\n//         \"name\": \"to\",\n//         \"type\": \"address\"\n//       },\n//       {\n//         \"indexed\": false,\n//         \"internalType\": \"uint256\",\n//         \"name\": \"value\",\n//         \"type\": \"uint256\"\n//       }\n//     ],\n//     \"name\": \"Transfer\",\n//     \"type\": \"event\"\n//   },\n//   {\n//     \"inputs\": [\n//       {\n//         \"internalType\": \"address\",\n//         \"name\": \"owner\",\n//         \"type\": \"address\"\n//       },\n//       {\n//         \"internalType\": \"address\",\n//         \"name\": \"spender\",\n//         \"type\": \"address\"\n//       }\n//     ],\n//     \"name\": \"allowance\",\n//     \"outputs\": [\n//       {\n//         \"internalType\": \"uint256\",\n//         \"name\": \"\",\n//         \"type\": \"uint256\"\n//       }\n//     ],\n//     \"stateMutability\": \"view\",\n//     \"type\": \"function\",\n//     \"constant\": true\n//   },\n//   {\n//     \"inputs\": [\n//       {\n//         \"internalType\": \"address\",\n//         \"name\": \"spender\",\n//         \"type\": \"address\"\n//       },\n//       {\n//         \"internalType\": \"uint256\",\n//         \"name\": \"amount\",\n//         \"type\": \"uint256\"\n//       }\n//     ],\n//     \"name\": \"approve\",\n//     \"outputs\": [\n//       {\n//         \"internalType\": \"bool\",\n//         \"name\": \"\",\n//         \"type\": \"bool\"\n//       }\n//     ],\n//     \"stateMutability\": \"nonpayable\",\n//     \"type\": \"function\"\n//   },\n//   {\n//     \"inputs\": [\n//       {\n//         \"internalType\": \"address\",\n//         \"name\": \"account\",\n//         \"type\": \"address\"\n//       }\n//     ],\n//     \"name\": \"balanceOf\",\n//     \"outputs\": [\n//       {\n//         \"internalType\": \"uint256\",\n//         \"name\": \"\",\n//         \"type\": \"uint256\"\n//       }\n//     ],\n//     \"stateMutability\": \"view\",\n//     \"type\": \"function\",\n//     \"constant\": true\n//   },\n//   {\n//     \"inputs\": [],\n//     \"name\": \"currentOwner\",\n//     \"outputs\": [\n//       {\n//         \"internalType\": \"address\",\n//         \"name\": \"\",\n//         \"type\": \"address\"\n//       }\n//     ],\n//     \"stateMutability\": \"view\",\n//     \"type\": \"function\",\n//     \"constant\": true\n//   },\n//   {\n//     \"inputs\": [],\n//     \"name\": \"decimals\",\n//     \"outputs\": [\n//       {\n//         \"internalType\": \"uint8\",\n//         \"name\": \"\",\n//         \"type\": \"uint8\"\n//       }\n//     ],\n//     \"stateMutability\": \"view\",\n//     \"type\": \"function\",\n//     \"constant\": true\n//   },\n//   {\n//     \"inputs\": [\n//       {\n//         \"internalType\": \"address\",\n//         \"name\": \"spender\",\n//         \"type\": \"address\"\n//       },\n//       {\n//         \"internalType\": \"uint256\",\n//         \"name\": \"subtractedValue\",\n//         \"type\": \"uint256\"\n//       }\n//     ],\n//     \"name\": \"decreaseAllowance\",\n//     \"outputs\": [\n//       {\n//         \"internalType\": \"bool\",\n//         \"name\": \"\",\n//         \"type\": \"bool\"\n//       }\n//     ],\n//     \"stateMutability\": \"nonpayable\",\n//     \"type\": \"function\"\n//   },\n//   {\n//     \"inputs\": [\n//       {\n//         \"internalType\": \"address\",\n//         \"name\": \"spender\",\n//         \"type\": \"address\"\n//       },\n//       {\n//         \"internalType\": \"uint256\",\n//         \"name\": \"addedValue\",\n//         \"type\": \"uint256\"\n//       }\n//     ],\n//     \"name\": \"increaseAllowance\",\n//     \"outputs\": [\n//       {\n//         \"internalType\": \"bool\",\n//         \"name\": \"\",\n//         \"type\": \"bool\"\n//       }\n//     ],\n//     \"stateMutability\": \"nonpayable\",\n//     \"type\": \"function\"\n//   },\n//   {\n//     \"inputs\": [],\n//     \"name\": \"name\",\n//     \"outputs\": [\n//       {\n//         \"internalType\": \"string\",\n//         \"name\": \"\",\n//         \"type\": \"string\"\n//       }\n//     ],\n//     \"stateMutability\": \"view\",\n//     \"type\": \"function\",\n//     \"constant\": true\n//   },\n//   {\n//     \"inputs\": [],\n//     \"name\": \"previousOwner\",\n//     \"outputs\": [\n//       {\n//         \"internalType\": \"address\",\n//         \"name\": \"\",\n//         \"type\": \"address\"\n//       }\n//     ],\n//     \"stateMutability\": \"view\",\n//     \"type\": \"function\",\n//     \"constant\": true\n//   },\n//   {\n//     \"inputs\": [],\n//     \"name\": \"symbol\",\n//     \"outputs\": [\n//       {\n//         \"internalType\": \"string\",\n//         \"name\": \"\",\n//         \"type\": \"string\"\n//       }\n//     ],\n//     \"stateMutability\": \"view\",\n//     \"type\": \"function\",\n//     \"constant\": true\n//   },\n//   {\n//     \"inputs\": [],\n//     \"name\": \"totalSupply\",\n//     \"outputs\": [\n//       {\n//         \"internalType\": \"uint256\",\n//         \"name\": \"\",\n//         \"type\": \"uint256\"\n//       }\n//     ],\n//     \"stateMutability\": \"view\",\n//     \"type\": \"function\",\n//     \"constant\": true\n//   },\n//   {\n//     \"inputs\": [\n//       {\n//         \"internalType\": \"address\",\n//         \"name\": \"to\",\n//         \"type\": \"address\"\n//       },\n//       {\n//         \"internalType\": \"uint256\",\n//         \"name\": \"amount\",\n//         \"type\": \"uint256\"\n//       }\n//     ],\n//     \"name\": \"transfer\",\n//     \"outputs\": [\n//       {\n//         \"internalType\": \"bool\",\n//         \"name\": \"\",\n//         \"type\": \"bool\"\n//       }\n//     ],\n//     \"stateMutability\": \"nonpayable\",\n//     \"type\": \"function\"\n//   },\n//   {\n//     \"inputs\": [\n//       {\n//         \"internalType\": \"address\",\n//         \"name\": \"from\",\n//         \"type\": \"address\"\n//       },\n//       {\n//         \"internalType\": \"address\",\n//         \"name\": \"to\",\n//         \"type\": \"address\"\n//       },\n//       {\n//         \"internalType\": \"uint256\",\n//         \"name\": \"amount\",\n//         \"type\": \"uint256\"\n//       }\n//     ],\n//     \"name\": \"transferFrom\",\n//     \"outputs\": [\n//       {\n//         \"internalType\": \"bool\",\n//         \"name\": \"\",\n//         \"type\": \"bool\"\n//       }\n//     ],\n//     \"stateMutability\": \"nonpayable\",\n//     \"type\": \"function\"\n//   },\n//   {\n//     \"inputs\": [],\n//     \"name\": \"sendMoney\",\n//     \"outputs\": [],\n//     \"stateMutability\": \"payable\",\n//     \"type\": \"function\",\n//     \"payable\": true\n//   },\n//   {\n//     \"inputs\": [],\n//     \"name\": \"getBalanceContract\",\n//     \"outputs\": [\n//       {\n//         \"internalType\": \"uint256\",\n//         \"name\": \"\",\n//         \"type\": \"uint256\"\n//       }\n//     ],\n//     \"stateMutability\": \"view\",\n//     \"type\": \"function\",\n//     \"constant\": true\n//   },\n//   {\n//     \"inputs\": [],\n//     \"name\": \"getBalance\",\n//     \"outputs\": [\n//       {\n//         \"internalType\": \"uint256\",\n//         \"name\": \"\",\n//         \"type\": \"uint256\"\n//       }\n//     ],\n//     \"stateMutability\": \"view\",\n//     \"type\": \"function\",\n//     \"constant\": true\n//   },\n//   {\n//     \"inputs\": [],\n//     \"name\": \"postulate\",\n//     \"outputs\": [],\n//     \"stateMutability\": \"payable\",\n//     \"type\": \"function\",\n//     \"payable\": true\n//   }\n// ]\nconst App = () => {\n    const [values, setValues]= useState(\n      { \n        balance:0,\n        web3: null,\n        accounts: null, \n        contract: null \n      }\n    );\n    const[infoOwners, setInfoOwners] = useState({\n      currentOwner:'',\n      previousOwner:''\n    })\n    const[tokenvalue, setTokenValue] = useState([{\n      amount:0,\n      symbol:'',\n      name:''\n    }])\n    const[showPostulate, setShowPostulate] =useState(false)\n    const[showResultTokens, setShowResultTokens] = useState(false)\n    const[valueWeis, setValueWeis]= useState(0)\n\n    async function getInstance (){\n      console.log(\"get instance\")\n      try {\n        // Get network provider and web3 instance.\n        const web3 = await getWeb3();\n        // Use web3 to get the user's accounts.\n        const accounts = await web3.eth.getAccounts();\n        //console.log(accounts)\n        // Get the contract instance.\n        const networkId = await web3.eth.net.getId();\n        console.log(`network id: ${networkId}`)\n        const deployedNetwork = MejorpostorContract.networks[networkId];\n        const instance = new web3.eth.Contract(\n          MejorpostorContract.abi,\n          deployedNetwork && deployedNetwork.address,\n        );\n        console.log('instance')\n        console.log(instance)\n        // const instance = new web3.eth.Contract(\n        //   ABI,\n        //   '0x3D0Cb53AF13CE4C420e04FB3c4636AD704b51477'\n        // );\n        \n        // Set web3, accounts, and contract to the state, and then proceed with an\n        // example of interacting with the contract's methods.\n        setValues({...values, web3:web3, accounts:accounts, contract:instance})\n      } catch (error) {\n        // Catch any errors for any of the above operations.\n        alert(\n          `Failed to load web3, accounts, or contract. Please login in your wallet or check console for details.`,\n        );\n        console.error(error);\n      }\n    }\n\n    async function getBalanceF(){\n      try {\n        console.log('exec get balance')\n        // console.log(values.contract)\n        const response = await values.contract.methods.getBalance().call();\n        const currentOwner = await  values.contract.methods.currentOwner().call();\n        const previousOwner = await  values.contract.methods.previousOwner().call();\n        // console.log(`response: ${response}`)\n        setValues({ ...values, balance: response})\n        setInfoOwners({currentOwner:currentOwner, previousOwner:previousOwner})\n        setShowPostulate(true)\n      } catch (error) {\n        console.log(error)\n      }\n    }\n    async function getBalanceTokensF(){\n      try {\n        console.log('exec get balance Tokens')\n      const amount = await values.contract.methods.balanceOf(values.accounts[0]).call();\n      const name = await values.contract.methods.name().call();\n      const symbol  = await values.contract.methods.symbol().call();\n      setTokenValue({\n        amount:amount,\n        symbol:symbol,\n        name:name})\n      setShowResultTokens(true)\n      } catch (error) {\n        console.log(error)\n      }\n      \n    }\n\n    async function postulateF(e){\n      try {\n        e.preventDefault()\n        console.log(`sending weis: ${valueWeis}`)\n          // console.log('exec get balance')\n        if (valueWeis > values.balance){\n          const response = await values.contract.methods.postulate().send({from:values.accounts[0] ,value: valueWeis});\n        console.log(`response:`)\n        console.log(response)\n        }else{\n          alert(`Estas intentando postularte con ${valueWeis}Weis. El valor debe ser mayor a ${values.balance} Weis`)\n        }\n          \n      } catch (error) {\n        console.log(error)\n      }\n      //getBalanceF()\n        //setValues({ ...values, balance: response})\n      }\n    function handlerChange(e){\n      e.preventDefault()\n      setValueWeis(e.target.value)\n    }\n    useEffect(()=>{\n      getInstance()\n    },[])\n    //useEffect(()=>setShowPostulate(true), values.balance)\n\n\n    const Interface =()=>{\n      return(\n        <div className=\"container\">\n        <h1 className=\"title\">Dapp El Mejor P ostor</h1>\n          <section className=\"first-grid\">\n          <div className=\"info-account\">\n              <h2>Your Address:</h2>\n              <strong>  {values.accounts?? values.accounts}</strong>\n            </div>\n            <div>\n              <button className=\"btn-def\" onClick={()=>getBalanceF()}>Consultar Balance Actual</button>\n              {\n                values.balance > 0 &&\n                <div>\n                  <p>Balance Actual : {values.balance} Weis</p>\n                  <p>Mayor postor : {infoOwners.currentOwner}</p>\n                </div> \n              }\n            </div>\n          </section>\n          <section className=\"first-grid\">\n          \n\n          <div>\n            <h2>Tokens:</h2>\n            <button className=\"btn-def\" onClick={()=>getBalanceTokensF()}>Consultar Tokens</button>\n            {showResultTokens &&\n              <div>\n              {\n                tokenvalue.amount>0 \n                ?\n                <p>En <strong> {tokenvalue.name}'s </strong> , tienes: <strong> {tokenvalue.amount} {tokenvalue.symbol} </strong></p>\n                :\n                <p>No tienes tokens</p>\n              }\n              </div>\n            }\n          \n          </div>\n          <div>\n            <h2>Postularte:</h2>\n            { showPostulate\n              ? \n              <form action=\"\" onSubmit={(e)=>postulateF(e)} onChange={(e)=>handlerChange(e)}>\n                <div className=\"input-container\">\n                  <label htmlFor=\"inputWeis\"> Ingresa un valor en Weis para postularte. Recuerda <br /> que debe ser mayor a {values.balance} Weis </label>\n                  <input type=\"number\" id=\"inputWeis\" min={0} value={valueWeis} />\n                </div>\n                <button className=\"btn-def\" type=\"submit\">Postular</button>\n              </form>\n              :\n              <h4>Consulta el balance actual para postularte</h4>\n            \n          }\n          </div>\n          </section>\n          \n        </div>\n      )\n    }\n    return (\n      <>\n      {values.contract===null\n        ? <div className=\"container\"> \n        <h1>Cargando contrato...</h1> \n        <div id=\"loading-icon\"></div>\n        <p>Recuerda que tu Wallet debe estar conectada a <strong> Rinkeby Test Network </strong> </p>\n        </div> \n        :\n          <Interface></Interface>}\n      </>\n      \n    \n    )\n  \n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}